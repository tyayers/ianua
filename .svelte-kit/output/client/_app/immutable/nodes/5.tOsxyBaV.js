import{s as E,o as H,r as U}from"../chunks/scheduler.Dqz8o37y.js";import{S as P,i as V,n as j,s as k,e as v,o as L,j as T,c as b,a as S,w as B,d as _,x as C,p,q as O,b as $,k as g,l as I,t as w,f as y,r as q,u as M,v as z}from"../chunks/index.Cr-v4LAJ.js";import"../chunks/entry.BmrUlgo1.js";import{C as G,a as x}from"../chunks/components.header.DVQm-n5C.js";import{C as R}from"../chunks/components.row.edit.BVImyfRB.js";const J=async({params:u})=>({dataName:u.name,rowId:u.id}),Z=Object.freeze(Object.defineProperty({__proto__:null,load:J},Symbol.toStringTag,{value:"Module"}));function N(u){let s,d,n,e,r="Cancel",c,i,f="Save",m,l,a;return s=new R({props:{sheetConfig:u[0],rowConfig:u[1]}}),{c(){j(s.$$.fragment),d=k(),n=v("div"),e=v("button"),e.textContent=r,c=k(),i=v("button"),i.textContent=f,this.h()},l(t){L(s.$$.fragment,t),d=T(t),n=b(t,"DIV",{class:!0,style:!0});var o=S(n);e=b(o,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),B(e)!=="svelte-w89k66"&&(e.textContent=r),c=T(o),i=b(o,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),B(i)!=="svelte-jro71g"&&(i.textContent=f),o.forEach(_),this.h()},h(){p(e,"type","button"),p(e,"class","rounded_button_outlined"),p(i,"type","button"),p(i,"class","rounded_button_filled"),p(n,"class","form_controls"),C(n,"margin-top","44px")},m(t,o){O(s,t,o),$(t,d,o),$(t,n,o),g(n,e),g(n,c),g(n,i),m=!0,l||(a=[I(e,"click",D),I(i,"click",u[2])],l=!0)},p(t,o){const h={};o&1&&(h.sheetConfig=t[0]),o&2&&(h.rowConfig=t[1]),s.$set(h)},i(t){m||(w(s.$$.fragment,t),m=!0)},o(t){y(s.$$.fragment,t),m=!1},d(t){t&&(_(d),_(n)),M(s,t),l=!1,U(a)}}}function A(u){let s,d,n,e,r,c='<svg data-icon-name="arrowBackIcon" viewBox="0 0 24 24" width="24" height="24" aria-hidden="true"><path fill-rule="evenodd" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"></path></svg>',i,f,m,l;s=new G({props:{actionButtonText:"Save",actionButtonColor:"green",actionButtonTextColor:"white",actionEvent:u[2]}});let a=u[0]&&u[1]&&N(u);return{c(){j(s.$$.fragment),d=k(),n=v("div"),e=v("div"),r=v("button"),r.innerHTML=c,i=k(),a&&a.c(),this.h()},l(t){L(s.$$.fragment,t),d=T(t),n=b(t,"DIV",{class:!0});var o=S(n);e=b(o,"DIV",{class:!0});var h=S(e);r=b(h,"BUTTON",{style:!0,class:!0,"data-svelte-h":!0}),B(r)!=="svelte-1sf4hnw"&&(r.innerHTML=c),h.forEach(_),i=T(o),a&&a.l(o),o.forEach(_),this.h()},h(){C(r,"position","relative"),C(r,"top","12px"),C(r,"left","-12px"),p(r,"class","back_button"),p(e,"class","back_box"),p(n,"class","new_box svelte-eoyr66")},m(t,o){O(s,t,o),$(t,d,o),$(t,n,o),g(n,e),g(e,r),g(n,i),a&&a.m(n,null),f=!0,m||(l=I(r,"click",D),m=!0)},p(t,[o]){t[0]&&t[1]?a?(a.p(t,o),o&3&&w(a,1)):(a=N(t),a.c(),w(a,1),a.m(n,null)):a&&(z(),y(a,1,1,()=>{a=null}),q())},i(t){f||(w(s.$$.fragment,t),w(a),f=!0)},o(t){y(s.$$.fragment,t),y(a),f=!1},d(t){t&&(_(d),_(n)),M(s,t),a&&a.d(),m=!1,l()}}}function D(){history.back()}function F(u,s,d){let{data:n}=s,e,r,c=[],i=[],f=-1;H(()=>{document.title="Loading...",x.LoadData(n.dataName).then(l=>{if(i=l.headers,d(0,e=x.GetSheetConfig(n.dataName,i)),e){f=e==null?void 0:e.tagIndexes.id;let a=l.rows.find(t=>t[f]===n.rowId);a&&(c=a,d(1,r=x.GetRowConfig(e,l.headers,c)),document.title=r.name)}})});function m(){fetch("/api/data/"+(e==null?void 0:e.name)+"/"+c[f]+"?rangeStart="+(e==null?void 0:e.rangeStart),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then(l=>l.json()).then(l=>{history.back()})}return u.$$set=l=>{"data"in l&&d(3,n=l.data)},[e,r,m,n]}class tt extends P{constructor(s){super(),V(this,s,F,A,E,{data:3})}}export{tt as component,Z as universal};
